<!-- sub nav -->
<div class="sub-nav-wrapper sticky hidden-xs">
    <div class="container-fluid sub-nav sticky">
        <div class="now-streaming pull-left">
            
        </div>
        <div class="swap-to pull-right">
            
        </div>
        <div class="sub-nav-links">
            <ul>
                <li><a ui-sref="app.hots.talentCalculator.redirect">TALENT CALCULATOR</a></li><li><a ui-sref="app.hots.guideBuilder.step1">GUIDE BUILDER</a></li><li><a ui-sref="app.hots.guides.list">GUIDES</a></li>
            </ul>
        </div>
    </div>
</div>
<!-- /sub nav -->

<div class="hots-dark">
    <!-- filtering -->
    <div hots-filtering heroes="heroes" maps="maps" filters="filters"></div>
    <!-- / filtering -->

    <!-- top guide -->
    <div class="container-fluid hots-top-guide m-t-lg pos-rl hidden-xs hidden-sm hidden-md" ng-if="topGuide">
        <div class="hots-top-guide-premium" ng-if="isPremium(topGuide)"></div>
        <div class="tri-both">
            <div class="container-fluid-max hots-top-guide-inner pos-rl">
                <div class="hero {{getTopGuideHeroBg(topGuide)}}"></div>
                <div class="row row-flex row-flex-wrap">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-7">
                        <div class="row-flex-col">
                            <h1>TOP GUIDE</h1>
                            <h3>{{topGuide.name}}</h3>
                            <div class="hots-top-guide-votes">{{topGuide.votesCount}}</div>
                            <ul class="hots-top-guide-talents clearfix">
                                <li>
                                    <a href="#" class="talents-icon active {{isLarge()}} {{getGuideClass(topGuide)}} {{ getTopGuideClassName(topGuide, 1) }}" 
                                       ng-tooltip title="{{ getTopGuideTalentName(topGuide, 1) }}"></a>
                                    <div class="guide-talent-dots hidden-xs hidden-sm">
                                        <div class="guide-talent-dot" ng-class="{ active: activeTalent(topGuide, 1, dot) }"
                                             ng-repeat="dot in topGuideTalents.topGuideTalentsT1"></div>
                                    </div>
                                </li>
                                <li>
                                    <a href="#" class="talents-icon active {{isLarge()}} {{getGuideClass(topGuide)}} {{ getTopGuideClassName(topGuide, 4) }}" 
                                       ng-tooltip title="{{ getTopGuideTalentName(topGuide, 4) }}"></a>
                                    <div class="guide-talent-dots hidden-xs hidden-sm">
                                        <div class="guide-talent-dot" ng-class="{ active: activeTalent(topGuide, 4, dot) }"
                                             ng-repeat="dot in topGuideTalents.topGuideTalentsT4"></div>
                                    </div>
                                </li>
                                <li>
                                    <a href="#" class="talents-icon active {{isLarge()}} {{getGuideClass(topGuide)}} {{ getTopGuideClassName(topGuide, 7) }}" 
                                       ng-tooltip title="{{ getTopGuideTalentName(topGuide, 7) }}"></a>
                                    <div class="guide-talent-dots hidden-xs hidden-sm">
                                        <div class="guide-talent-dot" ng-class="{ active: activeTalent(topGuide, 7, dot) }"
                                             ng-repeat="dot in topGuideTalents.topGuideTalentsT7"></div>
                                    </div>
                                </li>
                                <li>
                                    <a href="#" class="talents-icon active {{isLarge()}} {{getGuideClass(topGuide)}} {{ getTopGuideClassName(topGuide, 10) }}" 
                                       ng-tooltip title="{{ getTopGuideTalentName(topGuide, 10) }}"></a>
                                    <div class="guide-talent-dots hidden-xs hidden-sm">
                                        <div class="guide-talent-dot" ng-class="{ active: activeTalent(topGuide, 10, dot) }"
                                             ng-repeat="dot in topGuideTalents.topGuideTalentsT10"></div>
                                    </div>
                                </li>
                                <li>
                                    <a href="#" class="talents-icon active {{isLarge()}} {{getGuideClass(topGuide)}} {{ getTopGuideClassName(topGuide, 13) }}" 
                                       ng-tooltip title="{{ getTopGuideTalentName(topGuide, 13) }}"></a>
                                    <div class="guide-talent-dots hidden-xs hidden-sm">
                                        <div class="guide-talent-dot" ng-class="{ active: activeTalent(topGuide, 13, dot) }"
                                             ng-repeat="dot in topGuideTalents.topGuideTalentsT13"></div>
                                    </div>
                                </li>
                                <li>
                                    <a href="#" class="talents-icon active {{isLarge()}} {{getGuideClass(topGuide)}} {{ getTopGuideClassName(topGuide, 16) }}" 
                                       ng-tooltip title="{{ getTopGuideTalentName(topGuide, 16) }}"></a>
                                    <div class="guide-talent-dots hidden-xs hidden-sm">
                                        <div class="guide-talent-dot" ng-class="{ active: activeTalent(topGuide, 16, dot) }"
                                             ng-repeat="dot in topGuideTalents.topGuideTalentsT16"></div>
                                    </div>
                                </li>
                                <li>
                                    <a href="#" class="talents-icon active {{isLarge()}} {{getGuideClass(topGuide)}} {{ getTopGuideClassName(topGuide, 20) }}" 
                                       ng-tooltip title="{{ getTopGuideTalentName(topGuide, 20) }}"></a>
                                    <div class="guide-talent-dots hidden-xs hidden-sm">
                                        <div class="guide-talent-dot" ng-class="{ active: activeTalent(topGuide, 20, dot) }"
                                             ng-repeat="dot in topGuideTalents.topGuideTalentsT20"></div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-md-12 col-lg-5">
                        <div class="row-flex-col">
                            <p>{{topGuide.description}}</p>
                            <a ui-sref="app.hots.guides.guide({ slug: topGuide.slug })" class="btn btn-hots m-t-md"><div class="inner">VIEW GUIDE</div></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- / top guide -->

    <!-- tempostorm guides -->
    <div class="container-fluid">
        <div class="container-fluid-max hots-list-ts-guides">
            <div class="hots-list-guides-title clearfix">
                <div class="hots-mini-filters">
                    <div hots-filter-role filters="filters"></div>
                    <div class="m-r-md" hots-filter-universe filters="filters"></div>
                    <div class="hots-filters-search">
                        <form>
                            <div class="input-group">
                                <input type="text" class="form-control input-dark hots-search" ng-model="filters.search">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                                </span>
                            </div>
                        </form>
                    </div>
                </div>
                <h1>TEMPOSTORM GUIDES</h1>
            </div>
            <div class="hots-list-ts-guides-wrapper">
                <ul class="hots-guides row no-pad" ng-if="tempostormGuides.length">
                    <li class="col-xs-12 col-sm-6 col-md-6 col-lg-3" ng-repeat="guide in tempostormGuides">
                        <a ui-sref="app.hots.guides.guide({ slug: guide.slug })" class="hots-guide large {{getGuideClass(guide)}}">
                            <div class="inner"></div>
                            <div class="hots-guide-premium" ng-if="isPremium(guide)"></div>
                            <div class="bt-shadow" ng-if="guide.guideType == 'hero'"></div>
                            <h1>{{guide.name}}</h1>
                            <h3>by {{guide.author.username || '[Deleted User]'}} - <span am-time-ago="guide.createdDate"></span></h3>
                            <div class="hots-guide-votes">{{guide.votesCount}}</div>
                            <div class="hero-flip btn-group" ng-if="guide.heroes.length > 1">
                                <button class="btn btn-xs btn-blue" ng-click="guidePrevHero($event, guide)"><span class="fa fa-angle-left"></span></button>
                                <button class="btn btn-xs btn-blue" ng-click="guideNextHero($event, guide)"><span class="fa fa-angle-right"></span></button>
                            </div>
                            <ul class="hots-guide-talents" ng-if="guide.guideType == 'hero'">
                                <li class="talents-icon active {{getGuideClass(guide)}} {{ getTempostormTalentClassName(guide, 1) }}" ng-tooltip title="{{  getTempostormTalentName(guide, 1) }}"></li>
                                <li class="talents-icon active {{getGuideClass(guide)}} {{ getTempostormTalentClassName(guide, 4) }}" ng-tooltip title="{{  getTempostormTalentName(guide, 4) }}"></li>
                                <li class="talents-icon active {{getGuideClass(guide)}} {{ getTempostormTalentClassName(guide, 7) }}" ng-tooltip title="{{  getTempostormTalentName(guide, 7) }}"></li>
                                <li class="talents-icon active {{getGuideClass(guide)}} {{ getTempostormTalentClassName(guide, 10) }}" ng-tooltip title="{{  getTempostormTalentName(guide, 10) }}"></li>
                                <li class="talents-icon active {{getGuideClass(guide)}} {{ getTempostormTalentClassName(guide, 13) }}" ng-tooltip title="{{  getTempostormTalentName(guide, 13) }}"></li>
                                <li class="talents-icon active {{getGuideClass(guide)}} {{ getTempostormTalentClassName(guide, 16) }}" ng-tooltip title="{{  getTempostormTalentName(guide, 16) }}"></li>
                                <li class="talents-icon active {{getGuideClass(guide)}} {{ getTempostormTalentClassName(guide, 20) }}" ng-tooltip title="{{  getTempostormTalentName(guide, 20) }}"></li>
                            </ul>
                        </a>
                    </li>
                </ul>
            </div>
            <!-- page flipping -->
            <div pagination="tempostormPagination" class="default"></div>
            <!-- / page flipping -->

            <p class="darkbox white p-md" ng-if="!tempostormGuides.length">There are no guides for the filtering above.</p>
        </div>
    </div>
    <!-- / tempostorm guides -->

    <!-- guides start -->
    <div class="container-fluid hots-guide-list">
        <div class="container-fluid-max hots-guide-list-inner tri-both">
            
            <div class="hots-list-guides-title clearfix">
                <div class="hots-mini-filters">
                    <div hots-filter-role filters="filters"></div>
                    <div class="m-r-md" hots-filter-universe filters="filters"></div>
                    <div class="hots-filters-search">
                        <form>
                            <div class="input-group">
                                <input type="text" class="form-control input-dark hots-search" ng-model="filters.search">
                                <span class="input-group-btn">
                                    <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                                </span>
                            </div>
                        </form>
                    </div>
                </div>
                <h1>COMMUNITY GUIDES</h1>
            </div>

            <div>
                <!-- page flipping -->
                <div pagination="communityPagination" class="default"></div>
                <!-- / page flipping -->

                <!-- guides titles -->
                <div class="row hots-guides-long-title m-b-sm">
                    <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
                        <h1>GUIDE</h1>
                    </div>
                    <div class="hidden-xs col-sm-6 col-md-4 col-lg-3">
                        <h1>TALENTS</h1>
                    </div>
                    <div class="hidden-xs hidden-sm hidden-md col-lg-1">
                        <h1 class="text-center">SCORE</h1>
                    </div>
                    <div class="hidden-xs hidden-sm col-md-4 col-lg-4">
                        <h1>HERO / MAP</h1>
                    </div>
                </div>
                <!-- / guides titles -->
                
                <!-- guides -->
                <ul class="hots-guides" ng-if="communityGuides.length">
                    <li ng-repeat="guide in communityGuides">
                        <!-- TODO: Find out why Kaelthas image does not appear on guide -->
                        <a ui-sref="app.hots.guides.guide({ slug: guide.slug })" class="hots-guide long {{getGuideClass(guide)}}">
                            <div class="inner"></div>
                            <div class="hots-guide-premium" ng-if="isPremium(guide)"></div>
                            <div class="row row-flex">
                                <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
                                    <div class="row-col">
                                        <h1>{{guide.name}}</h1>
                                        <h3>by {{guide.author.username || '[Deleted User]'}} - <span am-time-ago="guide.createdDate"></span></h3>
                                    </div>
                                </div>
                                <div class="hidden-xs col-sm-6 col-md-4 col-lg-3">
                                    <div class="row-col">
                                        <ul class="hots-guide-talents" ng-if="guide.guideType == 'hero'">
                                            <li class="talents-icon active {{getGuideClass(guide)}} {{ getCommunityTalentClassName(guide, 1) }}" 
                                                ng-tooltip title="{{ getCommunityTalentName(guide, 1) }}"></li>
                                            <li class="talents-icon active {{getGuideClass(guide)}} {{ getCommunityTalentClassName(guide, 4) }}" 
                                                ng-tooltip title="{{ getCommunityTalentName(guide, 4) }}"></li>
                                            <li class="talents-icon active {{getGuideClass(guide)}} {{ getCommunityTalentClassName(guide, 7) }}" 
                                                ng-tooltip title="{{ getCommunityTalentName(guide, 7) }}"></li>
                                            <li class="talents-icon active {{getGuideClass(guide)}} {{ getCommunityTalentClassName(guide, 10) }}" 
                                                ng-tooltip title="{{ getCommunityTalentName(guide, 10) }}"></li>
                                            <li class="talents-icon active {{getGuideClass(guide)}} {{ getCommunityTalentClassName(guide, 13) }}" 
                                                ng-tooltip title="{{ getCommunityTalentName(guide, 13) }}"></li>
                                            <li class="talents-icon active {{getGuideClass(guide)}} {{ getCommunityTalentClassName(guide, 16) }}" 
                                                ng-tooltip title="{{ getCommunityTalentName(guide, 16) }}"></li>
                                            <li class="talents-icon active {{getGuideClass(guide)}} {{ getCommunityTalentClassName(guide, 20) }}" 
                                                ng-tooltip title="{{ getCommunityTalentName(guide, 20) }}"></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="hidden-xs hidden-sm hidden-md col-lg-1">
                                    <div class="row-col">
                                        <p class="hots-guide-votes text-center">{{guide.votesCount}}</p>
                                    </div>
                                </div>
                                <div class="hidden-xs hidden-sm col-md-4 col-lg-4">
                                    <div class="row-col">
                                        <p class="hots-guide-hero-name" ng-if="guide.guideType == 'hero'">{{getGuideCurrentHero(guide).name}}</p>
                                        <p class="hots-guide-hero-name" ng-if="guide.guideType == 'map'">{{guide.maps[0].name}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="hero-flip btn-group" ng-if="guide.heroes.length > 1">
                                <button class="btn btn-xs btn-blue" ng-click="guidePrevHero($event, guide)"><span class="fa fa-angle-left"></span></button>
                                <button class="btn btn-xs btn-blue" ng-click="guideNextHero($event, guide)"><span class="fa fa-angle-right"></span></button>
                            </div>
                        </a>
                    </li>
                </ul>
                <p class="darkbox white p-md" ng-if="!communityGuides.length">There are no guides for the filtering above.</p>
                <!-- / guides -->

                <!-- page flipping -->
                <div pagination="communityPagination" class="default"></div>
                <!-- / page flipping -->
            </div>

        </div>
    </div>
    <!-- guides end -->
</div>