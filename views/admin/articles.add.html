<div class="panel panel-danger error-modal animated" ng-show="showError">
    <div class="panel-heading">
        <button type="button" class="close" aria-hidden="true" ng-click="showError = false">&times;</button>
        <strong>Unable to add article</strong>
    </div>
    <div class="panel-body">
        <ul class="error text-danger">
            <li ng-repeat="error in errors">{{error}}</li>
        </ul>
    </div>
</div>
<div class="panel panel-default br-none">
    <form name="form" role="form" class="form-horizontal">
    <div class="panel-heading">
        Add an Article
    </div>
    <div class="panel-body">
        <div class="form-group">
            <label for="title" class="col-sm-2 control-label">Title</label>
            <div class="col-sm-10">
                <input type="text" id="title" name="title" value="" class="form-control" ng-model="article.title" ng-keyup="setSlug()" required>
            </div>
        </div>
        <div class="form-group">
            <label for="slug" class="col-sm-2 control-label">URL</label>
            <div class="col-sm-10">
                <div class="input-group">
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-class="{active: article.slug.linked}" ng-click="toggleSlugLink()"><i class="fa" ng-class="{'fa-link': article.slug.linked, 'fa-unlink': !article.slug.linked}"></i></button>
                    </span>
                    <input type="text" id="slug" name="slug" value="" class="form-control" ng-model="article.slug.url" required ng-readonly="article.slug.linked">
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="description" class="col-sm-2 control-label">Description</label>
            <div class="col-sm-10">
                <textarea id="description" name="description" class="form-control" ng-model="article.description" required></textarea>
            </div>
        </div>
        <div class="form-group">
            <label for="content" class="col-sm-2 control-label">Content</label>
            <div class="col-sm-10">
                <summernote id="content" config="options" ng-model="article.content"></summernote>
            </div>
        </div>
        <div class="form-group">
            <label for="deck" class="col-sm-2 control-label">Deck</label>
            <div class="col-sm-10">
                <ui-select ng-model="article.deck" theme="select2" class="form-control">
                    <ui-select-match placeholder="Type a deck name...">{{$select.selected.name}}</ui-select-match>
                    <ui-select-choices repeat="deck in decks | filter: $select.search">
                        <div ng-bind-html="deck.name | highlight: $select.search"></div>
                    </ui-select-choices>
                </ui-select>
            </div>
        </div>
        <div class="form-group">
            <label for="related" class="col-sm-2 control-label">Related Articles</label>
            <div class="col-sm-10">
                <input type="text" id="related" name="related" value="" class="form-control" ng-model="article.related">
            </div>
        </div>
        <div class="form-group">
            <label for="featured" class="col-sm-2 control-label">Featured</label>
            <div class="col-sm-10">
                <select id="featured" name="featured" class="form-control" ng-options="featured.value as featured.name for featured in articleFeatured" ng-model="article.featured" required></select>
            </div>
        </div>
        <div class="form-group">
            <label for="premium" class="col-sm-2 control-label">Premium</label>
            <div class="col-sm-10">
                <select id="premium" name="premium" class="form-control" ng-options="premium.value as premium.name for premium in articlePremium" ng-model="article.premium.isPremium" required></select>
            </div>
        </div>
        <div class="form-group" ng-show="article.premium.isPremium">
            <label for="expiryDate" class="col-sm-2 control-label">Expiry Date</label>
            <div class="col-sm-10">
                <div date-picker data-id="expiryDate" data-name="expiryDate" ng-model="article.premium.expiryDate" ng-disabled="!article.premium.isPremium"></div>
            </div>
        </div>
        <div class="form-group">
            <label for="active" class="col-sm-2 control-label">Active</label>
            <div class="col-sm-10">
                <select id="active" name="active" class="form-control" ng-options="active.value as active.name for active in articleActive" ng-model="article.active" required></select>
            </div>
        </div>
    </div>
    <div class="panel-footer clearfix">
        <div class="col-sm-10 col-sm-offset-2">
            <button type="submit" class="btn btn-blue btn-lg" ng-disabled="form.$invalid" ng-click="addArticle()">Add Article</button>
        </div>
    </div>
    </form>
    </div>
</div>
