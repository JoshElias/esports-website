<div class="container">
    <div class="row">
        <div class="col-xs-12">
            <div class="deck">
                <div class="deck-right">
                    <div class="db-mana-curve clearfix">
                        <ul class="clearfix">
                            <li>
                                <div class="db-mana-curve-amt">{{deck.manaCount(0)}}</div>
                                <div class="db-mana-curve-bar"><span style="height: {{deck.manaCurve(0)}}px;"></span></div>
                                <div class="db-mana-curve-num">0</div>
                            </li>
                            <li>
                                <div class="db-mana-curve-amt">{{deck.manaCount(1)}}</div>
                                <div class="db-mana-curve-bar"><span style="height: {{deck.manaCurve(1)}}px;"></span></div>
                                <div class="db-mana-curve-num">1</div>
                            </li>
                            <li>
                                <div class="db-mana-curve-amt">{{deck.manaCount(2)}}</div>
                                <div class="db-mana-curve-bar"><span style="height: {{deck.manaCurve(2)}}px;"></span></div>
                                <div class="db-mana-curve-num">2</div>
                            </li>
                            <li>
                                <div class="db-mana-curve-amt">{{deck.manaCount(3)}}</div>
                                <div class="db-mana-curve-bar"><span style="height: {{deck.manaCurve(3)}}px;"></span></div>
                                <div class="db-mana-curve-num">3</div>
                            </li>
                            <li>
                                <div class="db-mana-curve-amt">{{deck.manaCount(4)}}</div>
                                <div class="db-mana-curve-bar"><span style="height: {{deck.manaCurve(4)}}px;"></span></div>
                                <div class="db-mana-curve-num">4</div>
                            </li>
                            <li>
                                <div class="db-mana-curve-amt">{{deck.manaCount(5)}}</div>
                                <div class="db-mana-curve-bar"><span style="height: {{deck.manaCurve(5)}}px;"></span></div>
                                <div class="db-mana-curve-num">5</div>
                            </li>
                            <li>
                                <div class="db-mana-curve-amt">{{deck.manaCount(6)}}</div>
                                <div class="db-mana-curve-bar"><span style="height: {{deck.manaCurve(6)}}px;"></span></div>
                                <div class="db-mana-curve-num">6</div>
                            </li>
                            <li>
                                <div class="db-mana-curve-amt">{{deck.manaCount(7)}}</div>
                                <div class="db-mana-curve-bar"><span style="height: {{deck.manaCurve(7)}}px;"></span></div>
                                <div class="db-mana-curve-num">7<span>+</span></div>
                            </li>
                        </ul>
                    </div>
                    <div class="db-deck clearfix">
                        <div class="db-deck-header db-deck-{{deck.playerClass.toLowerCase()}}">
                            <div class="db-arena">
                                <span ng-show="!deck.arena">Contructed</span>
                                <span ng-show="deck.arena">Arena</span>
                            </div>
                        </div>
                        <div class="db-deck-cards">
                            <div class="db-deck-card" ng-class="{multi:item.qty > 1 || item.card.rarity == 'Legendary'}" ng-repeat="item in deck.cards" data-tooltip-img="./photos/cards/{{item.card.photos.large}}" data-tooltip-pos="left" hs-card>
                                <div class="db-deck-card-mana">{{item.card.cost}}</div>
                                <div class="db-deck-card-qty" ng-show="item.qty > 1">{{item.qty}}</div>
                                <div class="db-deck-card-legendary" ng-show="item.card.rarity == 'Legendary'"><i class="fa fa-star"></i></div>
                                <div class="db-deck-card-photo"><img src="./photos/cards/{{item.card.photos.small}}" alt=""></div>
                                <div class="db-deck-card-name">{{item.card.name}}</div>
                            </div>
                            <div class="db-deck-footer db-deck-{{deck.playerClass.toLowerCase()}}">
                                <div class="db-deck-footer-wrapper">
                                    <div class="db-deck-dust">{{deck.getDust()}}</div>
                                    <div class="dust-bottle-sm"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="deck-left">
                    
                    <!-- deck-votes -->
                    <div class="deck-votes">
                        <div class="vote-count vote-large"><span ng-if="deck.votesCount > 0">+</span>{{deck.votesCount}}</div>
                        <div class="btn-group">
                            <button class="btn-vote-up vote-large" ng-class="{active: deck.voted === 1}" ng-click="voteUp(deck)"><i class="fa fa-plus"></i></button>
                            <button class="btn-vote-down vote-large" ng-class="{active: deck.voted === -1}" ng-click="voteDown(deck)"><i class="fa fa-minus"></i></button>
                        </div>
                    </div>
                    <!-- / deck-votes -->
                    
                    <!-- deck header -->
                    <h1>{{deck.name}}</h1>
                    <p>posted by <a href="./user/{{deck.author.username}}" class="m-r-sm">@{{deck.author.username}}</a><i class="fa fa-clock-o text-muted"></i> {{deck.createdDate | date:'mediumDate'}}</p>
                    <!-- / deck header -->
                    
                    <!-- deck-mulligans -->
                    <div class="deck-mulligans" ng-if="anyMulliganSet()">
                        <h3>MULLIGANS</h3>
                        <ul class="player-class">
                            <li ng-repeat="mulligan in deck.mulligans" ng-class="{active:currentMulligan === mulligan}">
                                <a href="#" ng-click="setMulligan(mulligan)">
                                    <span class="player-class-icon {{mulligan.klass.toLowerCase()}}" ng-class="{active:isMulliganSet(mulligan)}"></span>
                                    <span class="player-class-text">{{mulligan.klass.toUpperCase()}}</span>
                                </a>
                            </li>
                            <li>
                                <a href="#" ng-click="toggleCoin()">
                                    <span class="player-class-icon coin-icon" ng-class="{active:coin}"></span>
                                    <span class="player-class-text"><span ng-if="!coin">No </span>Coin</span>
                                </a>
                            </li>
                        </ul>
                        <div class="deck-mulligan-details">
                            <div>
                                <h3>{{currentMulligan.klass.toUpperCase()}} MULLIGAN</h3>
                                <p ng-if="getMulliganCards().length"><span ng-repeat="card in getMulliganCards()"><span ng-if="$last && getMulliganCards().length > 1"> and </span>{{card.name}}<span ng-if="!$last">, </span></span></p>
                                <p ng-if="getMulliganInstructions().length">{{getMulliganInstructions()}}</p>
                                <p ng-if="!getMulliganCards().length">There is no mulligan set for <Strong>{{currentMulligan.klass}}</Strong> <span ng-if="coin">with</span><span ng-if="!coin">without</span> the coin.</p>
                            </div>
                            <div ng-if="getMulliganCards().length">
                                <div class="deck-mulligan-cards">
                                    <div class="deck-mulligan-card" ng-repeat="card in getMulliganCards()">
                                        <a href="#" data-tooltip-img="./photos/cards/{{card.photos.large}}" style="left: -{{cardLeft($index)}}px; right: -{{cardRight()}}px; z-index: {{getMulliganCards().length - $index}};" hs-card><img src="./photos/cards/{{card.photos.medium}}" alt=""></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- / deck-mulligans -->
                    
                    <!-- deck description -->
                    <h3>DESCRIPTION</h3>
                    <p>{{deck.description}}</p>
                    <!-- / deck description -->
                    
                    <!-- deck-against -->
                    <div class="deck-against" ng-if="hasStrong() || hasWeak() || deck.against.instructions.length">
                        <div>
                            <h3>STRONG AGAINST</h3>
                            <ul class="player-class" ng-if="hasStrong()">
                                <li class="active" ng-repeat="strong in deck.against.strong" ng-show="strong.isStrong">
                                    <a href="#">
                                        <span class="player-class-icon active {{strong.klass.toLowerCase()}}"></span>
                                        <span class="player-class-text">{{strong.klass.toUpperCase()}}</span>
                                    </a>
                                </li>
                            </ul>
                            <p ng-if="!hasStrong()">The deck has no classes flagged for strong against.</p>
                        </div>
                        <div>
                            <h3>WEAK AGAINST</h3>
                            <ul class="player-class" ng-if="hasWeak()">
                                <li class="active" ng-repeat="weak in deck.against.weak" ng-show="weak.isWeak">
                                    <a href="#">
                                        <span class="player-class-icon active {{weak.klass.toLowerCase()}}"></span>
                                        <span class="player-class-text">{{weak.klass.toUpperCase()}}</span>
                                    </a>
                                </li>
                            </ul>
                            <p ng-if="!hasWeak()">The deck has no classes flagged for weak against.</p>
                        </div>
                        <p ng-if="deck.against.instructions.length">{{deck.against.instructions}}</p>
                    </div>
                    <!-- / deck-against -->
                    
                    <!-- deck-gameplay -->
                    <h3 ng-if="deck.contentEarly.length || deck.contentMid.length || deck.contentLate.length">GAMEPLAY DETAILS</h3>
                    <div ng-if="deck.contentEarly.length">
                        <h5>EARLY GAME</h5>
                        <p class="pos-rl" ng-bind-html="getContent(deck.contentEarly)"></p>
                    </div>
                    <div ng-if="deck.contentMid.length">
                        <h5>MID GAME</h5>
                        <p class="pos-rl" ng-bind-html="getContent(deck.contentMid)"></p>
                    </div>
                    <div ng-if="deck.contentLate.length">
                        <h5>LATE GAME</h5>
                        <p class="pos-rl" ng-bind-html="getContent(deck.contentLate)"></p>
                    </div>
                    <!-- / deck-gameplay -->
                    
                    <!--
                    <h3>VITAL STATS</h3>
                    
                    <div class="row">
                        <div class="col-xs-12 col-sm-4">
                            <canvas id="doughnut" class="chart chart-doughnut" data="data" labels="labels" colours="charts.colors"></canvas>
                        </div>
                        <div class="col-xs-12 col-sm-4">
                            <canvas id="doughnut" class="chart chart-doughnut" data="data" labels="labels"></canvas>
                        </div>
                        <div class="col-xs-12 col-sm-4">
                            <canvas id="doughnut" class="chart chart-doughnut" data="data" labels="labels"></canvas>
                        </div>
                    </div>
                    -->
                    
                    <!-- comments -->
                    <div class="deck-comments">
                        <h3>COMMENTS</h3>
                        <div class="comments">
                            <p class="no-comments" ng-if="!deck.comments || !deck.comments.length">There are currently no comments on this deck.</p>
                            <div class="comment" ng-repeat="comment in deck.comments">
                                <div class="avatar">
                                    <a href="./user/{{comment.author.username}}"><img src="./img/profile.jpg" alt="" /></a>
                                </div>
                                <div class="panel">
                                    <div class="panel-heading pos-rl">
                                        <span class="arrow left"></span>
                                        <a href="./user/{{comment.author.username}}">@{{comment.author.username}}</a>
                                        <div class="pull-right">
                                            <div class="comment-votes m-l-sm pull-right">
                                                <div class="vote-count vote-small"><span ng-if="comment.votesCount > 0">+</span>{{comment.votesCount}}</div>
                                                <div class="btn-group">
                                                    <button class="btn-vote-up vote-small" ng-class="{active: comment.voted === 1}" ng-click="voteComment(1, comment)"><i class="fa fa-plus"></i></button>
                                                    <button class="btn-vote-down vote-small" ng-class="{active: comment.voted === -1}" ng-click="voteComment(-1, comment)"><i class="fa fa-minus"></i></button>
                                                </div>
                                            </div>
                                            <span class="fa fa-clock-o text-muted"></span>
                                            <span class="text-muted" am-time-ago="comment.createdDate"></span>
                                        </div>
                                    </div>
                                    <div class="panel-body">{{comment.comment}}</div>
                                </div>
                            </div>
                            <div class="comment-add">
                                <div class="avatar">
                                    <a href="./user/{{app.user.getUsername()}}" ng-if="app.user.isLogged()"><img src="./img/profile.jpg" alt="" /></a>
                                    <a href="#" ng-if="!app.user.isLogged()"><img src="./img/profile.jpg" alt="" /></a>
                                </div>
                                <form class="form-horizontal" name="commentForm" novalidate>
                                    <div class="input-group">
                                        <input type="text" class="form-control" ng-model="comment.comment" placeholder="ADD A COMMENT" required>
                                        <span class="input-group-btn">
                                            <button type="submit" class="btn btn-default" ng-disabled="commentForm.$invalid" ng-click="commentPost()">POST</button>
                                        </span>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <!-- / commments -->
                </div>
            </div>
        </div>
    </div>
</div>